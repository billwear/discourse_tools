{'post_stream': {'posts': [{'id': 3812, 'name': 'Bill Wear', 'username': 'billwear', 'avatar_template': '/letter_avatar/billwear/{size}/5_6d6f4cde2641c35611d5cac2fb97c77e.png', 'created_at': '2020-07-21T23:59:33.260Z', 'cooked': '<p>The MAAS CLI can do everything that the web UI can do, and more. Yes, it really, really can. The CLI uses the <code>maas</code> command exclusively which, in turn, connects to the API.  This page explains what is needed to get started with the CLI.</p>\n<p>Note that this article does not provide complete coverage of the MAAS CLI. For an exhaustive treatment, you may want to see the <a href="https://maas.io/docs/api" rel="nofollow noopener">API documentation</a>.  Also note that this page represents user-entered values as uppercase variables preceded with the ‘$’ character (e.g. $PROFILE and $EMAIL_ADDRESS). You should replace these placeholders with actual values.</p>\n<h4>Quick questions you may have:</h4>\n<ul>\n<li><a href="/t/maas-cli/802#heading--the-maas-command">How do I access the MAAS CLI?</a></li>\n<li><a href="/t/maas-cli/802#heading--create-an-administrator">How do I create an administrator account?</a></li>\n<li><a href="/t/maas-cli/802#heading--log-in-required">How do I complete the required login?</a></li>\n<li><a href="/t/maas-cli/802#heading--get-help">How do I get help via the CLI?</a></li>\n<li><a href="/t/maas-cli/802#heading--log-out">How do I log out?</a></li>\n<li><a href="/t/maas-cli/802#heading--next-steps">What are some the next steps I can take with the CLI?</a></li>\n</ul>\n<h2 id="heading--the-maas-command">The maas command</h2>\n<p>You can obtain the <code>maas</code> command via the <code>maas-cli</code> Ubuntu package installed on every region API server and rack controller. To manage MAAS at the CLI level from a remote workstation, you will need to install this package:</p>\n<pre><code class="lang-bash">sudo apt install maas-cli\n</code></pre>\n<h2 id="heading--create-an-administrator">Create an administrator</h2>\n<p>MAAS requires an initial administrator, sometimes called a MAAS “superuser”. When you access the web UI for the first time, you will be prompted to create this user:</p>\n<pre><code class="lang-bash">sudo maas createadmin --username=$PROFILE --email=$EMAIL_ADDRESS\n</code></pre>\n<p>You can create extra administrators in the same way. See <a href="/t/common-cli-tasks/794#heading--create-a-regular-user">MAAS CLI - common tasks</a> for instructions on creating regular users with the CLI.</p>\n<h2 id="heading--log-in-required">Log in (required)</h2>\n<p>To use the CLI you must first log in to the API server (region controller).</p>\n<p>You will need the API key that MAAS generated when creating your MAAS account. To obtain it, run this command on the region controller (i.e. wherever you installed the ‘maas-region-controller’ package):</p>\n<pre><code class="lang-bash">sudo maas-region apikey --username=$PROFILE &gt; $API_KEY_FILE\n</code></pre>\n<div class="p-notification">\n<p class="p-notification__response">You can obtain a user’s API key from the web interface. Click on ‘username’ in the top right corner, and select ‘Account’.</p>\n</div>\n<p>Log in. MAAS will prompt you for the API key:</p>\n<pre><code class="lang-bash">maas login $PROFILE $MAAS_URL\n</code></pre>\n<p>For example, to log in with the account whose username is ‘admin’ and where the region controller is on the localhost:</p>\n<pre><code class="lang-bash">maas login admin http://localhost:5240/MAAS/api/2.0\n</code></pre>\n<p>To log in by referring to the API key file created earlier:</p>\n<pre><code class="lang-bash">maas login $PROFILE $MAAS_URL - &lt; $API_KEY_FILE\n</code></pre>\n<p>A handy shell script, say <code>maas-login.sh</code>, is provided:</p>\n<pre><code class="lang-auto">#!/bin/sh\n\n# Change these 3 values as required \nPROFILE=admin\nAPI_KEY_FILE=/home/ubuntu/tmp/api_key\nAPI_SERVER=localhost\n\nMAAS_URL=http://$API_SERVER/MAAS/api/2.0\n\nmaas login $PROFILE $MAAS_URL - &lt; $API_KEY_FILE\n</code></pre>\n<h2 id="heading--get-help">Get help</h2>\n<p>MAAS has a thorough built-in help reference, which you can access in stages to understand how to build commands.</p>\n<p>The <code>maas</code> command accepts the <code>-h</code> or <code>--help</code> argument after every keyword and will display results with increasing detail.</p>\n<p>For example, suppose you were interested in tag management but didn’t know where to start. You might try this:</p>\n<pre><code class="lang-bash">maas $PROFILE --help\n</code></pre>\n<p>At this stage, you’ll see all available MAAS commands, including the <code>tag</code> and <code>tags</code> commands, along with a brief explanation of what each command does. To see what the <code>tag</code> and <code>tags</code> commands have to offer, try:</p>\n<pre><code class="lang-bash">maas $PROFILE tag --help\n</code></pre>\n<p>And:</p>\n<pre><code class="lang-bash">maas $PROFILE tags --help\n</code></pre>\n<p>Suppose you want to create a new rudimentary tag. Find the next level of help like this:</p>\n<pre><code class="lang-bash">maas admin tags create --help\n</code></pre>\n<p>In this way, you can discover all that the MAAS CLI has to offer.</p>\n<h2 id="heading--log-out">Log out</h2>\n<p>Once you finish with the CLI, you can log out from the given profile, flushing the stored credentials.</p>\n<pre><code class="lang-bash">maas logout $PROFILE\n</code></pre>\n<h2 id="heading--next-steps">Next steps</h2>\n<p>The following categories are now available to be explored:</p>\n<ul>\n<li><a href="/t/common-cli-tasks/794">Common tasks</a></li>\n<li><a href="/t/cli-kernel-management/799">Kernel management</a></li>\n<li><a href="/t/cli-image-management/797">Image management</a></li>\n<li><a href="/t/cli-tag-management/801">Tag management</a></li>\n<li><a href="/t/cli-dhcp-snippet-management/796">DHCP snippet management</a></li>\n<li><a href="/t/cli-advanced-tasks/793">Advanced tasks</a></li>\n<li><a href="/t/cli-composable-hardware/795">Composable hardware</a></li>\n</ul>', 'post_number': 1, 'post_type': 1, 'updated_at': '2020-07-22T21:44:54.317Z', 'reply_count': 0, 'reply_to_post_number': None, 'quote_count': 0, 'incoming_link_count': 0, 'reads': 1, 'score': 0.2, 'yours': True, 'topic_id': 1928, 'topic_slug': 'test-article-post', 'display_username': 'Bill Wear', 'primary_group_name': None, 'primary_group_flair_url': None, 'primary_group_flair_bg_color': None, 'primary_group_flair_color': None, 'version': 2, 'can_edit': True, 'can_delete': False, 'can_recover': None, 'can_wiki': True, 'link_counts': [{'url': 'https://maas.io/docs/api', 'internal': False, 'reflection': False, 'title': 'MAAS | API', 'clicks': 0}, {'url': 'https://discourse.maas.io/t/cli-composable-hardware/795', 'internal': True, 'reflection': False, 'title': 'CLI composable hardware', 'clicks': 0}, {'url': 'https://discourse.maas.io/t/cli-advanced-tasks/793', 'internal': True, 'reflection': False, 'title': 'CLI advanced tasks', 'clicks': 0}, {'url': 'https://discourse.maas.io/t/cli-dhcp-snippet-management/796', 'internal': True, 'reflection': False, 'title': 'CLI DHCP snippet management', 'clicks': 0}, {'url': 'https://discourse.maas.io/t/cli-tag-management/801', 'internal': True, 'reflection': False, 'title': 'CLI tag management', 'clicks': 0}, {'url': 'https://discourse.maas.io/t/cli-image-management/797', 'internal': True, 'reflection': False, 'title': 'CLI image management', 'clicks': 0}, {'url': 'https://discourse.maas.io/t/cli-kernel-management/799', 'internal': True, 'reflection': False, 'title': 'CLI kernel management', 'clicks': 0}, {'url': 'https://discourse.maas.io/t/common-cli-tasks/794', 'internal': True, 'reflection': False, 'title': 'Common CLI tasks', 'clicks': 0}, {'url': 'https://discourse.maas.io/t/maas-cli/802', 'internal': True, 'reflection': False, 'title': 'MAAS CLI', 'clicks': 0}], 'read': True, 'user_title': None, 'actions_summary': [{'id': 3, 'can_act': True}, {'id': 4, 'can_act': True}, {'id': 8, 'can_act': True}, {'id': 7, 'can_act': True}], 'moderator': True, 'admin': True, 'staff': True, 'user_id': 287, 'hidden': False, 'trust_level': 4, 'deleted_at': None, 'user_deleted': False, 'edit_reason': None, 'can_view_edit_history': True, 'wiki': False, 'reviewable_id': 0, 'reviewable_score_count': 0, 'reviewable_score_pending_count': 0, 'can_accept_answer': False, 'can_unaccept_answer': False, 'accepted_answer': False}], 'stream': [3812]}, 'timeline_lookup': [[1, 0]], 'suggested_topics': [{'id': 1810, 'title': 'configuring-tls-encryption-rad', 'fancy_title': 'configuring-tls-encryption-rad', 'slug': 'configuring-tls-encryption-rad', 'posts_count': 1, 'reply_count': 0, 'highest_post_number': 1, 'image_url': None, 'created_at': '2020-07-10T14:51:53.554Z', 'last_posted_at': '2020-07-10T14:51:53.685Z', 'bumped': True, 'bumped_at': '2020-07-10T14:51:53.685Z', 'unseen': False, 'last_read_post_number': 1, 'unread': 0, 'new_posts': 0, 'pinned': False, 'unpinned': None, 'visible': True, 'closed': False, 'archived': False, 'notification_level': 3, 'bookmarked': False, 'liked': False, 'tags': [], 'archetype': 'regular', 'like_count': 0, 'views': 1, 'category_id': 18, 'featured_link': None, 'has_accepted_answer': False, 'can_have_answer': True, 'posters': [{'extras': 'latest single', 'description': 'Original Poster, Most Recent Poster', 'user': {'id': 287, 'username': 'billwear', 'name': 'Bill Wear', 'avatar_template': '/letter_avatar/billwear/{size}/5_6d6f4cde2641c35611d5cac2fb97c77e.png'}}]}, {'id': 1815, 'title': 'custom-machine-setup-rad', 'fancy_title': 'custom-machine-setup-rad', 'slug': 'custom-machine-setup-rad', 'posts_count': 1, 'reply_count': 0, 'highest_post_number': 1, 'image_url': None, 'created_at': '2020-07-10T14:52:01.689Z', 'last_posted_at': '2020-07-10T14:52:01.850Z', 'bumped': True, 'bumped_at': '2020-07-10T14:52:01.850Z', 'unseen': False, 'last_read_post_number': 1, 'unread': 0, 'new_posts': 0, 'pinned': False, 'unpinned': None, 'visible': True, 'closed': False, 'archived': False, 'notification_level': 3, 'bookmarked': False, 'liked': False, 'tags': [], 'archetype': 'regular', 'like_count': 0, 'views': 1, 'category_id': 18, 'featured_link': None, 'has_accepted_answer': False, 'can_have_answer': True, 'posters': [{'extras': 'latest single', 'description': 'Original Poster, Most Recent Poster', 'user': {'id': 287, 'username': 'billwear', 'name': 'Bill Wear', 'avatar_template': '/letter_avatar/billwear/{size}/5_6d6f4cde2641c35611d5cac2fb97c77e.png'}}]}, {'id': 1884, 'title': 'upgrading-maas-rad', 'fancy_title': 'upgrading-maas-rad', 'slug': 'upgrading-maas-rad', 'posts_count': 1, 'reply_count': 0, 'highest_post_number': 1, 'image_url': None, 'created_at': '2020-07-10T14:54:05.348Z', 'last_posted_at': '2020-07-10T14:54:05.470Z', 'bumped': True, 'bumped_at': '2020-07-10T14:54:05.470Z', 'unseen': False, 'last_read_post_number': 1, 'unread': 0, 'new_posts': 0, 'pinned': False, 'unpinned': None, 'visible': True, 'closed': False, 'archived': False, 'notification_level': 3, 'bookmarked': False, 'liked': False, 'tags': [], 'archetype': 'regular', 'like_count': 0, 'views': 1, 'category_id': 18, 'featured_link': None, 'has_accepted_answer': False, 'can_have_answer': True, 'posters': [{'extras': 'latest single', 'description': 'Original Poster, Most Recent Poster', 'user': {'id': 287, 'username': 'billwear', 'name': 'Bill Wear', 'avatar_template': '/letter_avatar/billwear/{size}/5_6d6f4cde2641c35611d5cac2fb97c77e.png'}}]}, {'id': 1858, 'title': 'managing-dhcp-rad', 'fancy_title': 'managing-dhcp-rad', 'slug': 'managing-dhcp-rad', 'posts_count': 1, 'reply_count': 0, 'highest_post_number': 1, 'image_url': 'https://discourse.maas.io/uploads/default/optimized/1X/6727ac9a78a11e0ec602a5cb646a5776eff67677_2_690x431.png', 'created_at': '2020-07-10T14:53:23.950Z', 'last_posted_at': '2020-07-10T14:53:24.090Z', 'bumped': True, 'bumped_at': '2020-07-10T14:53:24.090Z', 'unseen': False, 'last_read_post_number': 1, 'unread': 0, 'new_posts': 0, 'pinned': False, 'unpinned': None, 'visible': True, 'closed': False, 'archived': False, 'notification_level': 3, 'bookmarked': False, 'liked': False, 'tags': [], 'archetype': 'regular', 'like_count': 0, 'views': 1, 'category_id': 18, 'featured_link': None, 'has_accepted_answer': False, 'can_have_answer': True, 'posters': [{'extras': 'latest single', 'description': 'Original Poster, Most Recent Poster', 'user': {'id': 287, 'username': 'billwear', 'name': 'Bill Wear', 'avatar_template': '/letter_avatar/billwear/{size}/5_6d6f4cde2641c35611d5cac2fb97c77e.png'}}]}, {'id': 1840, 'title': 'kvm-host-networking-rad', 'fancy_title': 'kvm-host-networking-rad', 'slug': 'kvm-host-networking-rad', 'posts_count': 1, 'reply_count': 0, 'highest_post_number': 1, 'image_url': None, 'created_at': '2020-07-10T14:52:49.665Z', 'last_posted_at': '2020-07-10T14:52:49.842Z', 'bumped': True, 'bumped_at': '2020-07-10T14:52:49.842Z', 'unseen': False, 'last_read_post_number': 1, 'unread': 0, 'new_posts': 0, 'pinned': False, 'unpinned': None, 'visible': True, 'closed': False, 'archived': False, 'notification_level': 3, 'bookmarked': False, 'liked': False, 'tags': [], 'archetype': 'regular', 'like_count': 0, 'views': 1, 'category_id': 18, 'featured_link': None, 'has_accepted_answer': False, 'can_have_answer': True, 'posters': [{'extras': 'latest single', 'description': 'Original Poster, Most Recent Poster', 'user': {'id': 287, 'username': 'billwear', 'name': 'Bill Wear', 'avatar_template': '/letter_avatar/billwear/{size}/5_6d6f4cde2641c35611d5cac2fb97c77e.png'}}]}], 'tags': [], 'id': 1928, 'title': 'test article post', 'fancy_title': 'test article post', 'posts_count': 1, 'created_at': '2020-07-21T23:59:33.111Z', 'views': 2, 'reply_count': 0, 'like_count': 0, 'last_posted_at': '2020-07-21T23:59:33.260Z', 'visible': True, 'closed': False, 'archived': False, 'has_summary': False, 'archetype': 'regular', 'slug': 'test-article-post', 'category_id': 18, 'word_count': 788, 'deleted_at': None, 'user_id': 287, 'featured_link': None, 'pinned_globally': False, 'pinned_at': None, 'pinned_until': None, 'draft': None, 'draft_key': 'topic_1928', 'draft_sequence': 3, 'posted': True, 'unpinned': None, 'pinned': False, 'current_post_number': 1, 'highest_post_number': 1, 'last_read_post_number': 1, 'last_read_post_id': 3812, 'deleted_by': None, 'has_deleted': False, 'actions_summary': [{'id': 4, 'count': 0, 'hidden': False, 'can_act': True}, {'id': 8, 'count': 0, 'hidden': False, 'can_act': True}, {'id': 7, 'count': 0, 'hidden': False, 'can_act': True}], 'chunk_size': 20, 'bookmarked': False, 'topic_timer': None, 'private_topic_timer': None, 'message_bus_last_id': 4, 'participant_count': 1, 'details': {'notification_level': 3, 'notifications_reason_id': 1, 'can_move_posts': True, 'can_edit': True, 'can_delete': True, 'can_remove_allowed_users': True, 'can_create_post': True, 'can_reply_as_new_topic': True, 'can_flag_topic': True, 'can_convert_topic': True, 'can_review_topic': True, 'can_remove_self_id': 287, 'participants': [{'id': 287, 'username': 'billwear', 'name': 'Bill Wear', 'avatar_template': '/letter_avatar/billwear/{size}/5_6d6f4cde2641c35611d5cac2fb97c77e.png', 'post_count': 1, 'primary_group_name': None, 'primary_group_flair_url': None, 'primary_group_flair_color': None, 'primary_group_flair_bg_color': None}], 'created_by': {'id': 287, 'username': 'billwear', 'name': 'Bill Wear', 'avatar_template': '/letter_avatar/billwear/{size}/5_6d6f4cde2641c35611d5cac2fb97c77e.png'}, 'last_poster': {'id': 287, 'username': 'billwear', 'name': 'Bill Wear', 'avatar_template': '/letter_avatar/billwear/{size}/5_6d6f4cde2641c35611d5cac2fb97c77e.png'}}}